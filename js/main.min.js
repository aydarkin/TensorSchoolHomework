const showModal=function(a){let b=document.querySelector(".card_popup"),c=document.querySelector(".card_popup .card__title"),d=document.querySelector(".card_popup .card__last-session"),e=document.querySelector(".card_popup .card__birthday:not(.card__birthday_label)"),f=document.querySelector(".card_popup .card__phone:not(.card__phone_label)"),g=document.querySelector(".card_popup .card__friends"),h=document.querySelector(".card_popup .card__img");d.textContent="\u0411\u044B\u043B(-\u0430) \u0432 \u0441\u0435\u0442\u0438 ".concat(new Date(this.dataset.lastSession).toLocaleString()),c.textContent=this.dataset.name,e.textContent=new Date(this.dataset.birth).toLocaleDateString(),f.textContent=this.dataset.phone,g.textContent="\u0414\u0440\u0443\u0437\u0435\u0439 ".concat(this.dataset.friendsCount),h.setAttribute("src",this.dataset.photo||"img/photo_placeholder.png"),h.setAttribute("alt","\u0424\u043E\u0442\u043E ".concat(this.dataset.name));for(let b of[d,c,e,f,g])b.setAttribute("title",b.textContent);b.classList.remove("card_hide");let i=a.pageY-b.clientHeight/3;b.style.top=(0>i?0:i)+"px";let j=Math.min(a.pageX,window.innerWidth-b.clientWidth-10);b.style.left=(0>j?0:j)+"px",a.stopPropagation()},closeModal=function(a){let b=document.querySelector(".card_popup"),c=document.querySelector(".card_popup .card__close");(!b.contains(a.target)||c.contains(a.target))&&b.classList.add("card_hide")},hoverShowModal=function(a){let b=setTimeout(showModal.bind(this,a),2e3);this.addEventListener("mouseleave",()=>{window.clearTimeout(b)})};let persons=document.querySelectorAll(".persons .card_person");for(let a of persons)a.addEventListener("click",showModal),a.addEventListener("mouseenter",hoverShowModal);document.body.addEventListener("click",closeModal);let close=document.querySelector(".card_popup .card__close");close.addEventListener("click",closeModal);